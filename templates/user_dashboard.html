{% extends "layout.html" %}
{% block content %}
<h4>User Dashboard</h4>
<p>Live alerts will appear below:</p>

<div id="recent-list" class="list-group">
  {% for a in alerts %}
  <div class="list-group-item d-flex justify-content-between align-items-start">
    <div class="ms-2 me-auto">
      <div class="fw-bold">{{ a.title }}</div>
      <div class="small text-muted">{{ a.message }}</div>
    </div>
    <span class="badge bg-secondary">{{ a.timestamp[:19].replace('T',' ') }}</span>
  </div>
  {% else %}
  <div class="list-group-item">No alerts yet.</div>
  {% endfor %}
</div>

<script src="/static/js/socket.js"></script>
<script src="/static/js/heartbeat.js"></script>
{% endblock %}
